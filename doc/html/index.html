<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Rotating Isospectral Domain spectrum: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Rotating Isospectral Domain spectrum
   </div>
   <div id="projectbrief">Software for computing the changes of the spectrum of rotating domains.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('index.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Rotating Isospectral Domain spectrum Documentation</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This is the documentation of the source code, the additional supporting files and the quality checks of the software used in the master's thesis.</p>
<dl class="section remark"><dt>Remarks</dt><dd>This documentation contains mathematical formulae which are written in LaTeX and rendered with MathJax. Thus an internet connection is required for a correct display.</dd></dl>
<h2>The Software</h2>
<h3>Description</h3>
<p>The present code implements a finite element approach to the discretization of partial differential equations on arbitrary domains.</p>
<p>The code implements triangular Lagrange finite elements of orders 1-3 in two dimensions. It allows for a simple automatisation of parameter studies through the use of a parameter file <a class="el" href="d4/dec/parameters_8txt.html">parameters.txt</a> as well as of parameters which can be passed at launch time.</p>
<p>Provided a mesh, an offset a set of angular velocities and a spatial shift (which may vanish) of the axis of rotation the program determines first and foremost the eigenvalues (or frequencies) of the stationary domain. Afterwards the same number of eigenvalues with smallest magnitude is determined for each angular velocity provided. In such a way one can follow the evolution of the eigenvalues of eq. (3.20) with increasing \( \omega \).</p>
<h3>Compilation</h3>
<p>To compile the software a C++ compiler with C++11 support is required. Furthermore the boost program options library should be present on the system.</p>
<p>Libraries for linear algebra <a href="http://eigen.tuxfamily.org" title="Eigen linear algebra template library">Eigen</a> an eigenvalue decomposition <a href="https://github.com/m-reuter/arpackpp" title="ARPACK++ - C++ wrappers for ARPACK">ARPACK++</a> are provided in the <b>lib</b> directory of the medium. The latter library will require an installation. Eigen is a template library and may be used out of the box. Optimization options may be added to taste, though <code>-O3</code> compiler option is recommended.</p>
<p>The order of the ansatz polynomials can be choosen by defining P1BASIS or P2BASIS at compile-time. If the definition is absent a cubic basis is used.</p>
<h3>Execution</h3>
<p>The program utilizes the boost program_options library to parse command-line arguments. The set of arguments recognized by the program is encoded in <a class="el" href="d8/db9/Functions_8h.html#a56ce68e04f37f56342a34c4bab9da606" title="Function for retrieving options from cmd-line or file. ">prog_opt_init()</a>. The hard-coded values therein are the last fall-back. The next level of user interaction is the file <a class="el" href="d4/dec/parameters_8txt.html">parameters.txt</a> , where user-provided values for the parameters are provided. The file has to consist of key=value pairs with each pair being placed in a separate row. The hard-coded parameter values as well as the values provided in <a class="el" href="d4/dec/parameters_8txt.html">parameters.txt</a> are superceded by those passed to the program on the command line in the form <code>-param &lt;value&gt;</code>.</p>
<p>The current iteration of the software expects a file (AngularFrequencies.dat ) with a set of angular frequencies (one per row) for which the eigenvalues of a domain have to be determined. The name of the file should be provided as the <code>-omega</code> parameter and the file should be located in the same directory where the program is executed.</p>
<p>The program accepts the following parameters</p>
<ul>
<li><em>N</em> (unsigned int) number of refinement steps.<ul>
<li>default: 3</li>
</ul>
</li>
<li><em>CF</em> (string) name of the file with vertex coordinates.<ul>
<li>default: <a class="el" href="de/d6b/Coordinates_8dat_source.html">Coordinates.dat</a></li>
</ul>
</li>
<li><em>EF</em> (string) name of the file with triangle&lt;-&gt;vertex assignments.<ul>
<li>default: Tri.dat</li>
</ul>
</li>
<li><em>BFD</em> (string) name of the file with boundary element coordinates of the Dirichlet boundary.<ul>
<li>default: Boundary_Dirichlet.dat</li>
</ul>
</li>
<li><em>BFN</em> (string) name of the file with boundary element coordinates of the Neumann boundary.<ul>
<li>default: Boundary_Neumann.dat</li>
</ul>
</li>
<li><em>n</em> (double) index of refraction.<ul>
<li>default: 1.0</li>
</ul>
</li>
<li><em>omega</em> (string) name of the file containing a list of angular frequencies to be simulated.<ul>
<li>default: AngularFrequencies.dat</li>
</ul>
</li>
<li><em>Neig</em> (unsigned int) number of eigenvalues to compute.<ul>
<li>default: 10</li>
</ul>
</li>
<li><em>tol</em> (double) relative error of eigenvalue computations (ARPACK).<ul>
<li>default: 1e-8</li>
</ul>
</li>
<li><em>recomp</em> {0,1} flag indicating whether the system matrices should be recomputed.<ul>
<li>default: 1</li>
</ul>
</li>
<li><em>FP</em> (string) prefix for matrix storage files.<ul>
<li>default: NONE</li>
</ul>
</li>
<li><em>xShft</em> (double) x-shift of the geometry.<ul>
<li>default: 0</li>
</ul>
</li>
<li><em>yShft</em> (double) y-shift of the geometry.<ul>
<li>default: 0</li>
</ul>
</li>
</ul>
<h2>Output</h2>
<p>When compiled the code will produce multiple output files when run:</p>
<ul>
<li>Matrix-Market files (*_stiffness.mm, *_mass.mm, *_damping.mm). The system matrices are stored to disc using the matrix-market format. If the <em>recompute</em> flag is set to 0 the matrices are not computed anew but are instead read from the files. An exception to this is the full mass matrix, for it requires an update for each angular frequency \( \omega \). <dl class="section attention"><dt>Attention</dt><dd>These files tend to be very large. Care should be taken to ensure sufficient storage space on the hard drive. The saveMatrix() functions are responsible for writing the matrices to disc.</dd></dl>
</li>
<li>output.dat A data file containing the angular velocities and the N smallest eigenvalues for each velocity in the following format <table class="doxtable">
<tr>
<th align="center">\(\omega_0\) </th><th align="center">\(\omega_1\) </th><th align="center">... </th><th align="center">\(\omega_m\)  </th></tr>
<tr>
<td align="center">\(\lambda_1\) </td><td align="center">\(\lambda_1\) </td><td align="center">... </td><td align="center">\(\lambda_1\) </td></tr>
<tr>
<td align="center">... </td><td align="center">... </td><td align="center">... </td><td align="center">... </td></tr>
<tr>
<td align="center">\(\lambda_N\) </td><td align="center">\(\lambda_N\) </td><td align="center">... </td><td align="center">: \(\lambda_N\) </td></tr>
</table>
The output is handled by <a class="el" href="d8/db9/Functions_8h.html#a9f59f5593a4f40c7bc7273ad3ea03e3c" title="Output eigenvalues to a file. ">saveToFile()</a>.</li>
<li>Eigenvalues_*.dat Files containing the values of the eigenfunctions computed in case linear FE are chosen by defining P1BASIS at compile time.</li>
<li>Plot_Elements*.dat and Plot_Vertices*.dat Files containing the definitions of the mesh for which the eigenmodes were written. Again available only for linear FE.</li>
</ul>
<h2>Numerical Experiments</h2>
<p>Numerical experiments can be run manually, as long as all the necessary parameters are provided. To facilitate mesh-refinement studies a Python wrapper was written to run a set of simulations en-bloc.</p>
<h3>Execution</h3>
<p>The wrapper script is NumExpRun.py . It allows one to specify a list of indices of refraction <code>-ior &lt;A&gt;,&lt;B&gt;,&lt;C&gt;</code>, the levels of mesh refinement <code>-nref 2,3,4</code> the number of \( \omega \)-values to be spaced logarithmically in the interval \( [0,3\cdot 10^8]\) as <code>-samples 100</code> as well as the directory with reference parameters <code>-refdir &lt;path&gt;</code> and the name of the executable file located therein <code>-runfile</code>. Additionally a working directory can be specified with <code>-workdir &lt;absolute path&gt;</code> and a domain prefix ("ID1" or "ID2") can be provided with <code>-domain</code>.</p>
<p>If the necessary parameters are provided (or the default values are used) the script will launch numerical simulations for appropriate pairings of the different parameters. Specifically it will run a mesh-refinement study for each index of refraction using the number of \( \omega \)-samples provided. The parameter file <a class="el" href="d4/dec/parameters_8txt.html">parameters.txt</a> as well as the mesh definitions and angular frequencies (AngularFrequencies.dat) are copied from the reference directory into the directory of the numerical experiment. The latter is created as a subdirectory of the working directory.</p>
<p>At the end of the simulation cycle the directory in which the script was launched will contain multiple subdirectories with names beginning with <code>Exp_</code> containing the computed results for the different indices of refraction.</p>
<h3>Evaluation Guidelines</h3>
<p>Prior to using the IPython notebooks provided in the <b>eval</b> directory for the evaluation of numerical results the raw results obtained in the previous step have to be preprocessed by executing Evalscript.py in the directory containing <code>Exp_*</code> subdirectories. This script will consolidate data from the pure text files written by my code into compressed *.npz-archives. The latter may then be evaluated with ease with the IPython notebooks provided with the thesis.</p>
<h2>Addendum</h2>
<p>Unit and integration tests are described briefly on the additional tests page. There the additional quality checks of the method are described in some detail.</p>
<p>The description of the parameter file and mesh files is provided on the supporting files page.</p>
<h1>License</h1>
<p>The present software is provided under the GNU General Public License 3.0 (GPLv3). The full text of said license may be found in license.txt .</p>
<p>I hope that academics will, in the near future, stop guarding their code in the same way Gollum guarded <em>The Ring</em>. Whenever results were obtained through simulations, or more generally through numerical means, it is the duty of the researcher to publish his or her code to facilitate reproducibility. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Fri Oct 14 2016 09:37:44 for Rotating Isospectral Domain spectrum by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
